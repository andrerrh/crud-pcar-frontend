(this["webpackJsonpfront-crud"]=this["webpackJsonpfront-crud"]||[]).push([[0],{21:function(e,t,r){},24:function(e,t,r){},38:function(e,t,r){},42:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(14),a=r.n(c),s=(r(21),r(7)),o=r(1);var i=function(e){return Object(o.jsx)(s.b,{className:"header-list",onClick:function(){if("/"===e.goto&&!window.location.href.includes("/registered"))return window.location.reload()},style:{textDecoration:"none"},to:{pathname:e.goto,state:{id:!1}},children:e.title})};var l=function(){return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)(i,{title:"Home",goto:"/"}),Object(o.jsx)(i,{title:"Registered",goto:"/registered"})]})},d=r(3),u=r(6),j=r(11),h=r(8),b=r.n(h),p=r(15),O=(r(38),r(9)),f=(r(23),function(){var e=Object(p.a)(b.a.mark((function e(t){var r,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.model){e.next=2;break}return e.abrupt("return");case 2:if(t.year&&4===t.year.length){e.next=4;break}return e.abrupt("return");case 4:if(t.hp&&!(t.hp>3e4)){e.next=6;break}return e.abrupt("return");case 6:return r="",n="",t.id?(n="PUT",r="https://crud-express-nodejs.herokuapp.com/cars/".concat(t.id),delete t.id):(n="POST",r="https://crud-express-nodejs.herokuapp.com/cars",delete t.id),e.prev=9,e.next=12,fetch(r,{headers:{"Content-Type":"application/json"},method:n,body:JSON.stringify(t)});case 12:return c=e.sent,e.next=15,c.text();case 15:a=e.sent,O.b.success(a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),console.log("An error has ocurred while inserting or updating the data");case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t){return e.apply(this,arguments)}}());var x=function(){var e=Object(n.useState)({id:"",model:"",year:"",hp:""}),t=Object(j.a)(e,2),r=t[0],c=t[1],a=Object(d.f)();return Object(n.useEffect)((function(){var e;(null===(e=a.state)||void 0===e?void 0:e.id)&&c(Object(u.a)({},a.state))}),[a.state]),Object(o.jsxs)("div",{className:"main-container",children:[Object(o.jsx)("h1",{children:"Add a new vehicle"}),Object(o.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(o.jsx)("input",{required:!0,className:"model",placeholder:"Vehicle's Model",value:r.model,onChange:function(e){return c(Object(u.a)(Object(u.a)({},r),{},{model:e.target.value}))}}),Object(o.jsx)("input",{required:!0,className:"year",placeholder:"Vehicle's Production Year",value:r.year,onChange:function(e){return c(Object(u.a)(Object(u.a)({},r),{},{year:e.target.value}))},pattern:"[0-9]{4}",maxLength:"4",title:"4 Digits Year Pattern"}),Object(o.jsx)("input",{required:!0,className:"hp",placeholder:"Vehicle's Horsepower",value:r.hp,onChange:function(e){return c(Object(u.a)(Object(u.a)({},r),{},{hp:e.target.value}))}}),Object(o.jsx)("button",{className:"btn-add",onClick:function(){return f(r)},children:r.id?"Update":"Add"})]}),Object(o.jsx)(O.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},m=(r(24),r(10)),v=r(19);var g=function(e){var t,r,n;return Object(o.jsxs)("tr",{className:"table-row",children:[Object(o.jsx)("td",{children:null===e||void 0===e||null===(t=e.car)||void 0===t?void 0:t.model}),Object(o.jsx)("td",{children:null===e||void 0===e||null===(r=e.car)||void 0===r?void 0:r.year}),Object(o.jsx)("td",{children:null===e||void 0===e||null===(n=e.car)||void 0===n?void 0:n.hp}),Object(o.jsxs)("td",{children:[Object(o.jsx)(s.b,{to:{pathname:"/",state:Object(u.a)({},e.car)},children:Object(o.jsx)("button",{className:"update btn btn-update",children:Object(o.jsx)(m.a,{icon:v.a})})}),Object(o.jsx)("button",{onClick:function(){return e.handleDelete(e.car.id)},className:"delete btn btn-delete",children:Object(o.jsx)(m.a,{icon:v.b})})]})]})};var k=function(){var e=Object(n.useState)([{id:"",model:"",year:"",hp:""}]),t=Object(j.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(""),s=Object(j.a)(a,2),i=s[0],l=s[1];function d(e){return u.apply(this,arguments)}function u(){return(u=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://crud-express-nodejs.herokuapp.com/cars/".concat(t),{method:"DELETE"}).then((function(e){return e.text()})).then((function(e){l("".concat(t," was ").concat(e))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){fetch("https://crud-express-nodejs.herokuapp.com/cars").then((function(e){return e.json()})).then((function(e){return c(e)})),i&&O.b.error(i,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}),[i]),Object(o.jsxs)("div",{className:"main-container-registered",children:[Object(o.jsx)("h1",{children:"Registered vehicles"}),Object(o.jsxs)("table",{className:"table-cars",children:[Object(o.jsx)("thead",{className:"table-cars-head",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Model"}),Object(o.jsx)("th",{children:"Year"}),Object(o.jsx)("th",{children:"HP"}),Object(o.jsx)("th",{colSpan:"2",children:"Actions"})]})}),Object(o.jsx)("tbody",{children:r.map((function(e){return Object(o.jsx)(g,{handleDelete:d,car:e},e.id)}))})]}),Object(o.jsx)(O.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},y=(r(42),r(27));var w=function(){return Object(o.jsxs)("footer",{className:"footer",children:[Object(o.jsx)("p",{className:"footer-list",children:"Made by Andr\xe9 Rodrigues, 2021"}),Object(o.jsxs)("a",{style:{textDecoration:"none"},href:"/#",onClick:function(){return window.open("https://github.com/andrerrh")},className:"footer-list fa",children:[Object(o.jsx)(m.a,{icon:y.a}),Object(o.jsx)("p",{className:"footer-list text",children:"My GitHub profile"})]})]})};a.a.render(Object(o.jsxs)(s.a,{basename:"/crud-pcar-frontend",children:[Object(o.jsx)(l,{}),Object(o.jsxs)(d.c,{children:[Object(o.jsx)(d.a,{path:"/",exact:!0,component:x}),Object(o.jsx)(d.a,{path:"/registered",component:k})]}),Object(o.jsx)(w,{})]}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.73f1c6c5.chunk.js.map